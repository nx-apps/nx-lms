
<dom-module id="question-list">
    <template>
        <style include="page-style">
             tbody>tr>td{
                 cursor: pointer;
             }
        </style>
        <div class="container">
            
            <paper-material elevation="1">
                <div class="content">
                    <table class="gl-table-default">
                        <thead>
                            <tr>
                                <th style="width:10%">ข้อที่</th>
                                <th>คำถาม</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <template is="dom-repeat" items="[[dataList]]">
                                <tr on-tap="selectList" question-id="[[item.id]]">
                                    <td>
                                        <div>[[toIndex(index)]]</div>
                                    </td>
                                    <td>
                                        [[item.topic]]
                                    </td>
                                    <td style="text-align: right;">
                                        <iron-icon icon="create"></iron-icon>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                     <!--<paper-icon-button icon="alarm-on" title="wake up" class="giant"></paper-icon-button>
                     <span>toppic</span>-->
                </div>
            </paper-material>
        </div>
    </template>
    <script>
        Polymer({
            is: 'question-list',
            behaviors:[ReduxBehavior,questionAction],
            properties:{
                dataList:{
                    statePath:'question.dataList'
                }
            },
            ready:function(){
                this.QUESTION_GET_LIST();

                // this.QUESTION_INSERT(
                //     {
                //         answer:1,
                //         choice:["A" ,"B"],
                //         tag:["ac"],
                //         topic:'ssssssssssss',
                //         user_id:'888'
                //     }

                // );
                // this.QUESTION_UPDATE(
                //     {
                //         id:'9b83e058-c8dd-4d15-8679-bfce8f762ad7',
                //         answer:1,
                //         choice:["A" ,"B"],
                //         tag:["ac"],
                //         topic:'ssssssssssss',
                //         user_id:'888'
                //     }
                // );
                //this.QUESTION_DELETE('9b83e058-c8dd-4d15-8679-bfce8f762ad7');
            },
            selectList:function(e){
                this.QUESTION_SELECT(e.currentTarget.questionId)
                .then((response)=>{
                    console.log(response.data);
                 })
                .catch((error)=>{
                    console.log(error);
                });
            },
            toIndex:function(index){
                return ++index;
            }
        });
    </script>
</dom-module>