้<link rel="import" href="./components/examination-list.html">
<!--<link rel="import" href="./components/examination-manage.html">-->
<link rel="import" href="./components/examination-page.html">

<dom-module id="page-examination">
    <template>
        <style include="page-style">
            .page{
                background-color: white;
            }
            .fabSave{
                position: fixed;
                bottom: 90px;
                right: 20px;
                --paper-fab-background: #337ab7;
            }
        </style>
        <div class="container">
            <div class="header gl-large">
                จัดการชุดข้อสอบ
            </div>
            <examination-list data-list="[[dataList]]" type-list="examination"></examination-list>
            <panel-right title="{{titleRight}}">
                <examination-page selected="0" data="[[data]]"></examination-page>
                <!--<examination-manage data="[[data]]"></examination-manage>-->
            </panel-right>
        </div>
         <paper-fab icon="icons:add" title="นำเข้ารายงาน" on-tap="openPanelRight"></paper-fab>
         <paper-fab class="fabSave" icon="icons:save" title="นำเข้ารายงาน" on-tap="openPanelRight"></paper-fab>
    </template>
    <script>
        Polymer({
            is: 'page-examination',
            behaviors:[ReduxBehavior,examinationAction],
            properties:{
                dataList:{
                    statePath:'examination.dataList'
                }
            },
            ready:function(){
                this.EXAMINATION_GET_LIST();
            },
            listeners:{
                'select-data':'selectData',
                'back-page':'backPage'
            },
            openPanelRight:function(){
                
                this.titleRight = 'เพิ่มวัตถุประสงค์';
                this.data = {
                    ex_name:'',
                    description:'',
                    obj:[],
                    qty:'',
                    time:'',
                    question:[]
                }
                this.$$('panel-right').open();
            },
            selectData:function(e){
                console.log(e.detail);
                this.data = e.detail;
                this.$$('panel-right').open();
            }
        });
    </script>
</dom-module>