<dom-module id="examHistory-list">
    <template>
        <style include="page-style">
            tbody>tr>td {
                cursor: pointer;
            }
            
            tbody>tr:hover {
                font-weight: bold;
                border-bottom: 2px solid dodgerblue;
            }
        </style>
        <div class="container">
            [[test]]
            <template is="dom-repeat" items="[[examList]]">
                rowxxxxxxxxxxxx
            </template>
            <paper-material elevation="1">
                <table class="gl-table-default">
                    <thead>
                        <tr>
                            <th style="width:10%">#</th>
                            <th>รายการห้องสอบ</th>
                            <th>Module</th>
                            <th>วันที่ทำข้อสอบ</th>
                            
                            <th>ชุดข้อสอบ</th>
                            <th>จำนวน (ข้อ)</th>
                            <th>เวลา (นาที)</th>
                            <!--<th>time</th>-->
                            <!--<th>จำนวนข้อ</th>-->
                            <th style="width:20%"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <template is="dom-repeat" items="[[examList]]">
                            <tr on-tap="selectData" item="[[item]]">
                                <td>[[getIndex(index)]]</td>
                                <td>[[item.name_room]]</td>
                                <template is="dom-repeat" items="[[item.tags]]">
                                    <td>
                                        <tag-module size="14px" label="[[item.id]]" color="[[item.color]]"></tag-module>
                                    </td>
                                </template>
                                <td>[[item.start_date]] </td>
                               
                                <td>
                                    [[item.examination.name_examination]]
                                </td>
                                <td>
                                    [[item.examination.amount_all]]
                                </td>
                                <td>
                                    [[item.examination.time]]
                                </td>
                                <td>
                                    <iron-icon icon="create"></iron-icon>
                                    [[setTextStatus(item.status)]]
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </paper-material>

            <div class="Table">
                <div class="Heading">
                    <div class="Cell" style="width:10%">#</div>
                    <div class="Cell" style="width:10%">รายการห้องสอบ</div>
                    <div class="Cell" style="width:10%">Module</div>
                    <div class="Cell" style="width:10%">วันที่ทำข้อสอบ</div>
                    <div class="Cell" style="width:10%">ชุดข้อสอบ</div>
                    <div class="Cell" style="width:10%">จำนวน (ข้อ)</div>
                    <div class="Cell" style="width:10%">เวลา (นาที)</div>
                </div>
                <div class="Row">
                    <div class="Cell" style="width:10%">
                        Row 1 Column 1
                    </div>
                    <div class="Cell">
                        Row 1 Column 2
                    </div>
                    <div class="Cell">
                        Row 1 Column 3
                    </div>
                </div>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: 'examHistory-list',
            behaviors: [ReduxBehavior, dispatchActionBehavior],
            getIndex: function (index) {
                return index + 1;
            },
            properties: {
                examList: {
                    statePath: 'examHistory.examList'
                },
                test:{
                    value:['a','b']
                }
            },
            selectData: function (e) {
                console.log(e.currentTarget.item);
                //  this.dispatchAction('EXAM_HISTORY_EXAM_LIST_SELECT',e.currentTarget.item.id);
                this.fire('nylon-change-page', { path: '/exam/' + e.currentTarget.item.test_url })
            },
            setTextStatus: function (status) {
                if (status == "working") {
                    return "ทำข้อสอบต่อ"
                }
                else {
                    return "เริ่มทำข้อสอบ"
                }
            }
        });
    </script>
</dom-module>